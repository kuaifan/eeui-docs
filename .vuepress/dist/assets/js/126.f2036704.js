(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{634:function(t,a,e){"use strict";e.r(a);var s=e(43),n=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"animation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#animation","aria-hidden":"true"}},[t._v("#")]),t._v(" animation")]),t._v(" "),e("p",[e("code",[t._v("animation")]),t._v(" 模块可以用来在组件上执行动画。JS-Animation可以对组件执行一系列简单的变换 (位置、大小、旋转角度、背景颜色和不透明度)。")]),t._v(" "),e("p",[t._v("举个例子，如果有一个 "),e("code",[t._v("<image>")]),t._v(" 组件，通过动画你可以对其进行移动、旋转、拉伸或收缩等动作。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("如果需要使用CSS动画，参考 "),e("RouterLink",{attrs:{to:"/weex/styles/common-styles.html#property"}},[t._v("transition")]),t._v(" 或 "),e("RouterLink",{attrs:{to:"/weex/styles/common-styles.html#transform"}},[t._v("transform")]),t._v("。")],1)]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("animation"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("transition")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ref1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    styles"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        backgroundColor"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#FF0000'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        transform"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'translate(250px, 100px)'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    duration"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("800")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ms")]),t._v("\n    timingFunction"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ease'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    needLayout"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    delay"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ms")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        modal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("toast")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" message"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'animation finished.'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("ul",[e("li",[e("a",{attrs:{href:"http://dotwe.org/vue/2d1b61bef061448c1a5a13eac9624410",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例"),e("OutboundLink")],1)])]),t._v(" "),e("h1",{attrs:{id:"文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文档","aria-hidden":"true"}},[t._v("#")]),t._v(" 文档")]),t._v(" "),e("h2",{attrs:{id:"transition"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transition","aria-hidden":"true"}},[t._v("#")]),t._v(" transition")]),t._v(" "),e("h4",{attrs:{id:"transition-ref-options-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transition-ref-options-callback","aria-hidden":"true"}},[t._v("#")]),t._v(" transition(ref, options, callback)")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("@ref")]),t._v("，将要执行动画的元素。例如指定动画的元素 "),e("code",[t._v("ref")]),t._v(" 属性为 "),e("code",[t._v("test")]),t._v("，可以通过调用 "),e("code",[t._v("this.$refs.test")]),t._v(" 来获取元素的引用。")]),t._v(" "),e("li",[e("strong",[t._v("@options")]),t._v("，动画参数\n"),e("ul",[e("li",[e("strong",[e("code",[t._v("styles")])]),t._v("，设置不同样式过渡效果的键值对，下表列出了所有合法的参数：\n"),e("ul",[e("li",[t._v("width")]),t._v(" "),e("li",[t._v("height")]),t._v(" "),e("li",[t._v("backgroundColor")]),t._v(" "),e("li",[t._v("opacity")]),t._v(" "),e("li",[t._v("transformOrigin")]),t._v(" "),e("li",[t._v("transform\n"),e("ul",[e("li",[t._v("translate/translateX/translateY")]),t._v(" "),e("li",[t._v("rotate/rotateX/rotateY")]),t._v(" "),e("li",[t._v("perspective")]),t._v(" "),e("li",[t._v("scale/scaleX/scaleY")])])])])]),t._v(" "),e("li",[e("strong",[e("code",[t._v("duration")])]),t._v("，"),e("code",[t._v("duration")]),t._v("(number)：指定动画的持续时间 (单位是毫秒)，默认值是 "),e("code",[t._v("0")]),t._v("，表示瞬间达到动画结束状态。")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("delay")])]),t._v("，"),e("code",[t._v("delay")]),t._v(" (number)：指定请求动画操作到执行动画之间的时间间隔 (单位是毫秒)，默认值是 "),e("code",[t._v("0")]),t._v("，表示没有延迟，在请求后立即执行动画。")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("needLayout")])]),t._v("，"),e("code",[t._v("needLayout")]),t._v(" (boolean)：动画执行是否影响布局，默认值是false。")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("timingFunction")])]),t._v("，"),e("code",[t._v("timingFunction")]),t._v(" (string)：描述动画执行的速度曲线，用于描述\b动画\b已消耗时间和动画完成进度间的映射关系。默认值是 "),e("code",[t._v("linear")]),t._v("，表示动画从开始到结束都拥有同样的速度。下表列出了所有合法的属性：\n"),e("ul",[e("li",[e("code",[t._v("linear")]),t._v(":动画从头到尾的速度是相同的")]),t._v(" "),e("li",[e("code",[t._v("ease-in")]),t._v(":动画速度由慢到快")]),t._v(" "),e("li",[e("code",[t._v("ease-out")]),t._v(":动画速度由快到慢")]),t._v(" "),e("li",[e("code",[t._v("ease-in-out")]),t._v(":动画先加速到达中间点后减速到达终点")]),t._v(" "),e("li",[e("code",[t._v("cubic-bezier(x1, y1, x2, y2)")]),t._v(":在三次贝塞尔函数中定义变化过程，函数的参数值必须处于 0 到 1 之间。更多关于三次贝塞尔的信息请参阅 "),e("a",{attrs:{href:"http://cubic-bezier.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("cubic-bezier"),e("OutboundLink")],1),t._v(" 和 "),e("a",{attrs:{href:"https://en.wikipedia.org/wiki/B%C3%A9zier_curve",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bézier curve"),e("OutboundLink")],1),t._v("。")])])])])]),t._v(" "),e("li",[e("strong",[t._v("@callback")]),t._v("，"),e("code",[t._v("callback")]),t._v("是动画执行完毕之后的回调函数。在iOS平台上，你可以获取动画执行是否成功的信息。")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("@style 中可以做动画的属性")]),t._v(" "),e("ul",[e("li",[e("strong",[e("code",[t._v("width")])]),t._v("，"),e("code",[t._v("width")]),t._v("表示动画执行后应用到组件上的宽度值。如果你需要影响布局，设置"),e("code",[t._v("needLayout")]),t._v("为"),e("code",[t._v("true")]),t._v("。默认值为"),e("code",[t._v("computed width")]),t._v("。")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("height")])]),t._v("，"),e("code",[t._v("height")]),t._v("表示动画执行后应用到组件上的高度值。如果你需要影响布局\b，设置设置为 "),e("code",[t._v("needLayout")]),t._v("为"),e("code",[t._v("true")]),t._v("。默认值为"),e("code",[t._v("computed width")]),t._v("。")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("backgroundColor")])]),t._v("，"),e("code",[t._v("backgroundColor")]),t._v("动画执行后应用到组件上的背景颜色，默认值为computed backgroundColor。")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("opacity")])]),t._v("，"),e("code",[t._v("opacity")]),t._v("表示动画执行后应用到组件上的不透明度值，默认值为computed opacity。")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("transformOrigin")])]),t._v("，"),e("code",[t._v("transformOrigin")]),t._v("定义变化过程的中心点，如"),e("code",[t._v("transformOrigin: x-axis y-axis")]),t._v(" 参数 "),e("code",[t._v("x-axis")]),t._v(" 可能的值为 "),e("code",[t._v("left")]),t._v("、"),e("code",[t._v("center")]),t._v("、"),e("code",[t._v("right")]),t._v("、长度值或百分比值，参数 "),e("code",[t._v("y-axis")]),t._v(" 可能的值为 "),e("code",[t._v("top")]),t._v("、"),e("code",[t._v("center")]),t._v("、"),e("code",[t._v("bottom")]),t._v("、长度值或百分比。默认值为"),e("code",[t._v("center center")]),t._v("。")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("transform")])]),t._v("，"),e("code",[t._v("transform")]),t._v("变换类型，可能包含rotate"),e("code",[t._v("，")]),t._v("translate"),e("code",[t._v("，")]),t._v("scale`及其他属性。默认值为空。\n"),e("ul",[e("li",[e("code",[t._v("translate")]),t._v("/"),e("code",[t._v("translateX")]),t._v("/"),e("code",[t._v("translateY")]),t._v("指定元素要移动到的位置。单位是长度或百分比，默认值是0.")]),t._v(" "),e("li",[e("code",[t._v("rotate")]),t._v("/"),e("code",[t._v("rotateX")]),t._v("/"),e("code",[t._v("rotateY")]),e("strong",[t._v("v0.16+")]),t._v(" 指定元素将被旋转的角度。单位是度 "),e("em",[t._v("角度度")]),t._v("，默认值是0")]),t._v(" "),e("li",[e("code",[t._v("scale")]),t._v("/"),e("code",[t._v("scaleX")]),t._v("/"),e("code",[t._v("scaleY")]),t._v("按比例放大或缩小元素。单位是数字，默认值是1")]),t._v(" "),e("li",[e("code",[t._v("perspective")]),e("strong",[t._v("v0.16+")]),t._v(" 观察者距离z=0平面的距离，在"),e("strong",[t._v("Android 4.1")]),t._v("及以上有效。单位值数字，默认值为正无穷。")])])])])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("ul",[e("li",[t._v("iOS上可以获取 animation 是否执行成功的信息，callback中的"),e("code",[t._v("result")]),t._v("参数会有两种，分别是是"),e("code",[t._v("Success")]),t._v("与"),e("code",[t._v("Fail")]),t._v("。")]),t._v(" "),e("li",[t._v("Android 的callback 函数不支持result参数。")])])])])},[],!1,null,null,null);a.default=n.exports}}]);