(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{453:function(e,t,v){"use strict";v.r(t);var o=v(0),_=Object(o.a)({},function(){var e=this,t=e.$createElement,v=e._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"stream"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#stream","aria-hidden":"true"}},[e._v("#")]),e._v(" stream")]),e._v(" "),v("p",[v("code",[e._v("stream")]),e._v(" 模块提供了基本的网络请求能力，例如 GET 请求、POST 请求等，用于在组件的生命周期内与服务端进行交互。")]),e._v(" "),v("h1",{attrs:{id:"api"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#api","aria-hidden":"true"}},[e._v("#")]),e._v(" API")]),e._v(" "),v("h2",{attrs:{id:"fetch"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#fetch","aria-hidden":"true"}},[e._v("#")]),e._v(" fetch")]),e._v(" "),v("p",[e._v("发起一个请求。")]),e._v(" "),v("h4",{attrs:{id:"fetch-options-callback-progresscallback"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#fetch-options-callback-progresscallback","aria-hidden":"true"}},[e._v("#")]),e._v(" fetch(options, callback, progressCallback)")]),e._v(" "),v("ul",[v("li",[v("strong",[e._v("@options")]),e._v(", 请求的配置选项，支持以下配置\n"),v("ul",[v("li",[v("strong",[v("code",[e._v("method")])]),e._v(", string, HTTP 请求方法，值为 "),v("code",[e._v("GET")]),e._v("/"),v("code",[e._v("POST")]),e._v("/"),v("code",[e._v("PUT")]),e._v("/"),v("code",[e._v("DELETE")]),e._v("/"),v("code",[e._v("PATCH")]),e._v("/"),v("code",[e._v("HEAD")])]),e._v(" "),v("li",[v("strong",[v("code",[e._v("url")])]),e._v(", string, 请求的 URL | string")]),e._v(" "),v("li",[v("strong",[v("code",[e._v("headers")])]),e._v(", string, HTTP 请求头")]),e._v(" "),v("li",[v("strong",[v("code",[e._v("type")])]),e._v(", string, 响应类型："),v("code",[e._v("json")]),e._v("，"),v("code",[e._v("text")]),e._v(" 或是 "),v("code",[e._v("jsonp")]),e._v("(在 native 原生实现中其实与 "),v("code",[e._v("json")]),e._v(" 相同)")]),e._v(" "),v("li",[v("strong",[v("code",[e._v("body")])]),e._v(", string, HTTP 请求体")])])])]),e._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[e._v("注意")]),e._v(" "),v("ul",[v("li",[v("code",[e._v("body")]),e._v(" 参数仅支持 "),v("code",[e._v("string")]),e._v(" 类型的参数，请勿直接传递 "),v("code",[e._v("JSON")]),e._v("，必须先将其转为字符串。")]),e._v(" "),v("li",[v("code",[e._v("GET")]),e._v(" 请求不支持 "),v("code",[e._v("body")]),e._v(" 方式传递参数，请使用 URL 传参。")]),e._v(" "),v("li",[e._v("默认 "),v("code",[e._v("Content-Type")]),e._v(" 是 "),v("code",[e._v("application/x-www-form-urlencoded")]),e._v("。")]),e._v(" "),v("li",[e._v("如果你需要通过 POST 发送 json 数据， 需要将 "),v("code",[e._v("Content-Type")]),e._v(" 设为 "),v("code",[e._v("application/json")]),e._v("。")])])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("@callback")]),e._v(", 响应结果回调，回调函数将收到如下的 "),v("code",[e._v("response")]),e._v(" 对象：")]),e._v(" "),v("ul",[v("li",[v("strong",[v("code",[e._v("status")])]),e._v(", number, 返回的状态码")]),e._v(" "),v("li",[v("strong",[v("code",[e._v("ok")])]),e._v(", boolean, 如果状态码在 200-299 之间就为 true")]),e._v(" "),v("li",[v("strong",[v("code",[e._v("statusText")])]),e._v(", string, 状态描述文本")]),e._v(" "),v("li",[v("strong",[v("code",[e._v("data")])]),e._v(", string, 返回的数据，如果请求类型是 "),v("code",[e._v("json")]),e._v(" 和 "),v("code",[e._v("jsonp")]),e._v("，则它就是一个 "),v("code",[e._v("object")]),e._v(" ，否则是一个 "),v("code",[e._v("string")]),e._v("。")]),e._v(" "),v("li",[v("strong",[v("code",[e._v("headers")])]),e._v(", object, rHTTP 响应头")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("@progressCallback")]),e._v(", function, a progress callback. This callback will be invoked before request finished.")]),e._v(" "),v("ul",[v("li",[v("strong",[v("code",[e._v("readyState")])]),e._v(", number, 当前状态，"),v("code",[e._v("1")]),e._v(": 请求连接中；"),v("code",[e._v("2")]),e._v(": 返回响应头中；"),v("code",[e._v("3")]),e._v(": 正在加载返回数据")]),e._v(" "),v("li",[v("strong",[v("code",[e._v("status")])]),e._v(", number, 返回的状态码")]),e._v(" "),v("li",[v("strong",[v("code",[e._v("length")])]),e._v(" number, 已经接受到的数据长度. 你可以从响应头中获取总长度")]),e._v(" "),v("li",[v("strong",[v("code",[e._v("statusText")])]),e._v(", string, 状态描述文本")]),e._v(" "),v("li",[v("strong",[v("code",[e._v("headers")])]),e._v(". object, HTTP 响应头")])])])]),e._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),v("ul",[v("li",[e._v("默认的 Content-Type 为 'application/x-www-form-urlencoded'. "),v("code",[e._v("fetch")]),e._v(" 方法中设置的 type 是响应类型。")]),e._v(" "),v("li",[e._v("如果要发送 JSON 数据，需要设置 Content-Type 为 'application/json'。")])])]),e._v(" "),v("p",[v("strong",[e._v("示例")])]),e._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"http://dotwe.org/vue/80b21a0fce98acdffad96c57b2eadd1d",target:"_blank",rel:"noopener noreferrer"}},[e._v("HTTP method 示例"),v("OutboundLink")],1)]),e._v(" "),v("li",[v("a",{attrs:{href:"http://dotwe.org/vue/6dd65122144d9ad26594c0f900c75cd4",target:"_blank",rel:"noopener noreferrer"}},[e._v("Post 示例"),v("OutboundLink")],1),e._v("，常见应用场景，发送 POST 请求。")]),e._v(" "),v("li",[v("a",{attrs:{href:"http://dotwe.org/vue/892bd1c977b61762baca8e02a65b6d97",target:"_blank",rel:"noopener noreferrer"}},[e._v("Get 示例"),v("OutboundLink")],1),e._v("，常见应用场景，通过 GET 请求获取数据。")])])])},[],!1,null,null,null);t.default=_.exports}}]);